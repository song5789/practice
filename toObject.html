<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let handleMember = {
        init: function () {
          let initHTML = `<fieldset>
        <legend>학생등록</legend>
        <div>
          <div>
            <label for="stName">이름</label>
            <input type="text" id="stName" />
          </div>
          <div>
            <label for="stAge">나이</label>
            <input type="number" id="stAge" />
          </div>
          <div>
            <label for="stPhone">전화</label>
            <input type="num" id="stPhone" />
          </div>
          <div>
            <button>등록</button>
          </div>
        </div>
      </fieldset>
      <table id="list">
        <tr>
          <th>이름</th>
          <th>나이</th>
          <th>전화</th>
          <th></th>
        </tr>
      </table>`;
        },
        name: document.querySelector("#stName"),
        age: document.querySelector("#stAge"),
        phone: document.querySelector("#stPhone"),
        button: document.querySelector("button"),
        list: document.querySelector("#list"),
      };
      let id = 0;
      let students = [];
      document.body.append(handleMember.init());

      function makeStudent(name, age, phone) {
        return { id: id++, name, age, phone };
      }

      function upStudent() {
        let student = makeStObj(
          handleMember.name.value,
          handleMember.age.value,
          handleMember.phone.value
        );
        students.push(student);
        showList();
        handleMember.name.value = "";
        handleMember.age.value = "";
        handleMember.phone.value = "";
      }

      //   let id = 0;
      //   let name = document.querySelector("#stName");
      //   let age = document.querySelector("#stAge");
      //   let phone = document.querySelector("#stPhone");
      //   let button = document.querySelector("button");
      //   let list = document.querySelector("#list");
      //   let students = []; //배열 초기화

      //   button.onclick = function () {
      //     upStudent();
      //   };

      //   function upStudent() {
      //     let student = makeStudent(name.value, age.value, phone.value);
      //     students.push(student);
      //     showList();
      //     name.value = "";
      //     age.value = "";
      //     phone.value = "";
      //     name.focus();
      //   }

      //   function makeStudent(name, age, phone) {
      //     return { id: id++, name, age, phone };
      //   }

      //   function showList() {
      //     list.innerHTML = `<table id="list">
      //                             <tr>
      //                                 <th>이름</th>
      //                                 <th>나이</th>
      //                                 <th>전화</th>
      //                                 <th></th>
      //                             </tr>
      //                         </table>`;

      //     for (let student in students) {
      //       list.insertAdjacentHTML(
      //         "beforeend",
      //         `<tr><td>${students[student].name}</td><td>${students[student].age}</td><td>${students[student].phone}</td><td><button onclick="delStudent(${students[student].id})">삭제</button></td></tr>`
      //       );
      //     }
      //   }

      //   name.onkeyup = function (e) {
      //     if (e.keyCode == 13) {
      //       age.focus();
      //     }
      //   };

      //   age.onkeyup = function (e) {
      //     if (e.keyCode == 13) {
      //       phone.focus();
      //     }
      //   };

      //   phone.onkeyup = function (e) {
      //     if (e.keyCode == 13) {
      //       upStudent();
      //     }
      //   };

      //   function delStudent(id) {
      //     let index = students.findIndex(function (item) {
      //       return item.id == id;
      //     });
      //     students.splice(index, 1);
      //     showList();
      //   }
    </script>
  </body>
</html>
